#!/usr/bin/env zsh
# zstyle ':zim:termtitle' hooks 'preexec' 'precmd'
# zstyle ':zim:termtitle:preexec' format '${${(A)=1}[1]}'
# zstyle ':zim:termtitle:precmd'  format '%1~'

#ZSH-AutoSuggest-Fix
#ZSH_AUTOSUGGEST_CLEAR_WIDGETS+=(bracketed-paste up-line-or-search down-line-or-search expand-or-complete accept-line push-line-or-edit)

# ZSH Config from: https://dev.to/timwjames/overhaul-your-terminal-with-zsh-plugins-more-3oag
# bindkey '\e[A' history-beginning-search-backward
# bindkey '\eOA' history-beginning-search-backward
# bindkey '\e[B' history-beginning-search-forward
# bindkey '\eOB' history-beginning-search-forward
# zle -A {.,}history-incremental-search-forward
# zle -A {.,}history-incremental-search-backward
# zstyle ':autocomplete:*' widget-style menu-select
# bindkey -M menuselect '\r' accept-line
# zstyle ':autocomplete:*' list-lines 7
# zstyle ':completion:*' menu select=long

# Using zimfw as the plugin manager
ZIM_HOME=~/.cache/zim

# Download zimfw plugin manager if missing.
if [[ ! -e ${ZIM_HOME}/zimfw.zsh ]]; then
  curl -fsSL --create-dirs -o ${ZIM_HOME}/zimfw.zsh \
      https://github.com/zimfw/zimfw/releases/latest/download/zimfw.zsh
fi

# Initialize modules.
source ${ZIM_HOME}/init.zsh

# Install missing modules, and update ${ZIM_HOME}/init.zsh if missing or outdated.
if [[ ! ${ZIM_HOME}/init.zsh -nt ${ZDOTDIR:-${HOME}}/.zimrc ]]; then
  source ${ZIM_HOME}/zimfw.zsh init -q
fi
